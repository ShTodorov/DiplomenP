@page "/Пъстърва"
@using DiplomenP.Interfaces;
@using DiplomenP.Models;

<PageTitle>Пъстърва</PageTitle>

<style>

    .container-custom {
        padding-inline: 15rem;
        padding-block: 2.5rem;
    }

    .heading {
        color: rgb(12, 202, 21);
        font-size: 3rem;
        opacity: 0.7;
        transition: all 0.5s ease-in-out;
        cursor: default;
    }

        .heading:hover {
            opacity: 1;
        }

    .text-container {
        margin-top: -0.5rem;
    }

</style>

<style type="text/css" media="screen and (max-width:992px)">
    .container-custom {
        padding-inline: 0;
    }
</style>

<div class="d-flex flex-column align-items-center justify-content-center container-custom mb-1">
    <img class="w-100 rounded-2" src="https://burgaslakes.com/wp-content/uploads/2021/03/Salmo_trutta_Ozeaneum_Stralsund_HBP_2010-07-021.jpg" alt="Пъстърва.img" />

    <div class="d-flex justify-content-start w-100">
        <h1 class="align-items-start heading mb-0">Пъстърва</h1>
    </div>

    <div class="text-container d-flex flex-column rounded-2 py-1 px-4">

        <h3 class="border-bottom mb-0 border-secondary mt-3">Пъстървата</h3>

        <p class="col-8 my-1 w-100 fs-5">
            Пъстървата е студенолюбива риба, наричат я царицата на рибите заради нейното вкусно месо. Тя е уникално красива риба, трудна за улавяне и много борбена. 
            Има няколко вида пъстърва, но най-разпространената в България е Балканската пъстърва.
        </p>

        <h3 class="border-bottom mb-0 border-secondary mt-3">Балканската пъстърва</h3>

        <p class="col-8 w-100 fs-5 my-1">
            Отстрани е светлокафява, а към корема преминава почти в жълто. Също така има големи розови петна на двете страни. Средната големина на този вид 
            е около 40 см. При нормални условия 1-годишните индивиди достигат тегло 15-20 г, 2-годишните до 170 г и 3-годишните до 300г. Обитава чисти и студени, 
            богати на кислород, води.
        </p>

        <h3 class="border-bottom mb-0 border-secondary mt-3">Хранене</h3>

        <p class="col-8 w-100 fs-5 my-1">
            Тя е хищна риба, която се храни с мухи, червеи и често в менюто ѝ се включват по-малки рибки.
        </p>

        <h3 class="border-bottom mb-0 border-secondary mt-3">Размножаване</h3>

        <p class="col-8 w-100 fs-5 my-1">
            Половата зрялост настъпва на 3-4 години. По време на размножителния период (октомври-ноември) мъжките добиват по-ярка окраска. Хвърлят хайвера си в 
            горната част на реките. Излюпването на малките става през март- април. През време на размножаването пъстървите се изкачват нагоре по потоците и ручеите. 
        </p>

        <h3 class="border-bottom mb-0 border-secondary mt-3">Интересни факти</h3>

        <p class="col-8 w-100 fs-5 my-1">
            Пъстървите могат да плуват срещу течението и ако на пътя им има праг или друго препятствие, правят скокове във въздуха и така ги преодоляват.
        </p>

        <h3 class="border-bottom mb-0 border-secondary mt-3">Риболов</h3>

        <p class="col-8 w-100 fs-5 my-1">
            Най-често се лови на различни видове блесни и изкуствени мухи. Най-разпространения риболов на пъстърва и може би най-успешен е на изкуствената муха. 
            За този вид риболов въдицата и макара са малко по-нестандартни, както и самия риболов. Замятането на мухата е малко по-специфично както и управлението 
            на повода, затова и се използва по-тънък и лек монтаж.
        </p>

    </div>

    <h3 class="w-100 align-items-start mt-3">
        Комплект, който би бил подходящ за този вид риболов:
    </h3>

</div>

<div class="container mydiv">
    <div class="row d-flex">

        @foreach (var product in products)
        {

            if (product.ProductName == "JMC Fly Fishing SYNERGY мухарка" || product.ProductName == "Мухарска макара JMC Mamba" ||
            product.ProductName == "Шнур WAVE JMC" || product.ProductName == "Изкуствена муха Goddard Sedge Original" ||
            product.ProductName == "Дишащ гащеризон JMC Hydrox" || product.ProductName == "Кеп Cortland Teardrop Net Wooden Black Mesh")
            {

                <div class="col-md-6 col-lg-4 col-xl-3">

                    <!-- bbb_deals -->

                    <div class="bbb_deals">
                        <div class="bbb_deals_slider_container">
                            <div class=" bbb_deals_item">
                                <div class="bbb_deals_image"><img src="@product.Image" alt="product.img"></div>
                                <div class="bbb_deals_content">
                                    <div class="bbb_deals_info_line d-flex flex-row justify-content-between">
                                        <div class="bbb_deals_item_category text-secondary">@product.Type</div>
                                        <div class="bbb_deals_item_category text-secondary">@product.Brand</div>
                                    </div>
                                    <div class="bbb_deals_info_line">
                                        <div class="bbb_deals_item_name">@product.ProductName</div>
                                    </div>
                                    <div class="bbb_deals_info_line d-flex flex-row justify-content-start">
                                        <div class="bbb_deals_item_price ml-auto">@product.Price.ToString("0.00") лв.</div>
                                    </div>
                                    <div class="available">
                                        <div class="available_line d-flex flex-row justify-content-start">
                                            <div class="available_title">Налични: <span>@product.ProductCount</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            }

        }

    </div>
</div>

<div class="d-flex flex-column align-items-center justify-content-center container-custom mb-1">
    <button class="btn btn-outline-dark flex-shrink-0" type="button" @onclick="AddComToCart">
        <i class="bi-cart-fill me-1"></i>
        Добави комплект
    </button>
</div>

@code {

    [Inject]
    private IProductService ProductService { get; set; }

    private List<Product> products = new List<Product>();

    protected override async Task OnInitializedAsync()
    {
        products = ProductService.GetProducts();
    }

    private void AddComToCart()
    {

    }

}